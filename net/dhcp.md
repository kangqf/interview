## DHCP 协议解析

DHCP协议通讯使用端口UDP 67（服务器端监听的端口）和UDP 68（客户端监听的端口）进行通讯。

1. 客户端发送 `DHCP DISCOVERY` 的广播包寻找DCHP服务器，并设置广播包的源地址是 `0.0.0.0` 如果没有找到服务端，那么客户端会延时 1 9 13 16 秒加上一个一秒内的随机值 后再次发送发现包，如果还是找不到就设置169的地址标识自己找不到地址。
2. 收到 客户端 的ip分配请求后，服务端在验证作用域和ip地址充足后分配一个IP，然后以广播包的形式下发 `DHCP OFFER` 的报文。
3. 客户端收到 该 `OFFER` 报文后就以一个`DHCP REQUEST`来回应标识自己接受了这个IP地址，该包仍然是广播包，而且源ip仍然是 0.0.0.0
4. 服务端回复一个 `DHCP ACK` 的报文标识客户端确认使用。


1. 如果需要更新租约，客户端只需要发送 `DHCP REQUEST` 请求续约，然后服务端回复`DHCP ACK`告知客户端新的到期时间。